<!doctype html>
<html class="no-js" lang="ru">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Task</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   </head>
    <body>

	
	<script>

	
			// ServiceWorker is a progressive technology. Ignore unsupported browsers
			if ('serviceWorker' in navigator) {
			     console.log('CLIENT: service worker registration in progress.');
			  navigator.serviceWorker.register('serviceworker.js',{ scope: '/alarm/' }).then(function(serviceWorkerRegistration) {
				 console.log('CLIENT: service worker registration complete.', serviceWorkerRegistration);
    function onTaskAdded(task) {
        console.log("Task successfully scheduled.");
    }

    function onError(error) {
        alert("Sorry, couldn't set the alarm: " + error);
    }

				 
				         serviceWorkerRegistration.taskScheduler.add(Date.now() + (10 * 60000), {
            message: "It's been 10 minutes, your soup is ready!"
        }).then(onTaskAdded, onError);
				 
				 
				 
				}, function(a,b) {
			     console.log('CLIENT: service worker registration failure.',a,b);
			  });
			  
			  
			  navigator.serviceWorker.ready.then(function(registration) {
			   console.log('Service Worker Ready');
			});
			  
			} else {
			   console.log('CLIENT: service worker is not supported.');
			}

		
	</script>
    </body>
</html>
