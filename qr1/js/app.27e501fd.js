!function(e){function t(t){for(var i,a,c=t[0],d=t[1],u=t[2],f=0,l=[];f<c.length;f++)a=c[f],r[a]&&l.push(r[a][0]),r[a]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);for(s&&s(t);l.length;)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var d=n[c];0!==r[d]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={0:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=d;o.push([15,1]),n()}({13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);n(16),n(37),n(38),n(40);var i=n(13),r=n.n(i),o=n(14);window.addEventListener("DOMContentLoaded",function(){function e(e){document.getElementById("debug").textContent=e.toString()}if("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices){var t,n,i=document.getElementById("snapshot"),a=i.getContext("2d"),c=document.getElementById("camera"),d=document.getElementById("flipCamera"),u=document.getElementById("snapshotLimitOverlay");s(),navigator.mediaDevices.enumerateDevices().then(function(e){(e=e.filter(function(e){return"videoinput"===e.kind})).length>1&&(d.style.display="block",n=e[0].deviceId,d.addEventListener("click",function(){for(var t,i=0;i<e.length;i++)if(e[i].deviceId===n){t=i+1<e.length?e[i+1]:e[0];break}n=t.deviceId,s()}))}),document.addEventListener("visibilitychange",function(){document.hidden?f():s()})}else!function(e){var t=document.createElement("div");t.classList.add(r.a.errorScreen),t.innerHTML=e,document.body.append(t)}("К сожалению ваш браузер или устройство не поддерживает работу с камерой");function s(){var r={audio:!1,video:{}};r.video=n?{deviceId:n}:{facingMode:"environment"},f(),navigator.mediaDevices.getUserMedia(r).then(function(n){c.srcObject=n,c.oncanplay=function(){!function(){var e=u.offsetWidth;t={x:+(c.videoWidth-e)/2,y:+(c.videoHeight-e)/2,size:+e},i.width=t.size,i.height=t.size}(),function n(i){setTimeout(function(){a.drawImage(c,t.x,t.y,t.size,t.size,0,0,t.size,t.size);var i=a.getImageData(0,0,t.size,t.size),r=new o.a;r.callback=function(t,i){if(t)return console.warn(t),e(t),void n();i.result?(e(i.result),n(!0)):n()},r.decode({width:t.size,height:t.size},i)},i?2e3:200)}()}}).catch(function(e){alert(e.name+": "+e.message)})}function f(){c.srcObject&&c.srcObject.getTracks()[0].stop()}})}});
//# sourceMappingURL=app.27e501fd.js.map